# プロジェクト固有のガイドライン

このプロジェクトは、ゲーム『ブルーアーカイブ』のコンテンツに関するツールを開発し、そのツールをGemini CLI のカスタムツールとして登録することで、Gemini CLIと『ブルーアーカイブ』のコンテンツについて有益な対話を行うことを目的としています。

このプロジェクトにおけるGemini CLIの作業は、以下に従うものとします。

1. カスタムツールを利用したコミュニケーション
2. ツール開発
3. 『ブルーアーカイブ』のコンテンツに関する知識

## 1. カスタムツールを利用したコミュニケーション

*   開始時に、**`gemini-tools.json`を読み込みます。**
*   カスタムツールを利用したコミュニケーションにおいて、ツールのシェルコマンド出力は、**決して**ユーザーに直接表示しません。 Gemini CLIがその出力を解釈し、要約してユーザーに提示します。
    *   ただし、開発中において特に指示する場合を除きます。

## 2. ツール開発

### a. ツール定義 (`gemini-tools.json`)

*   カスタムツールは、プロジェクトルートの `gemini-tools.json` に定義します。
*   ツールの出力は、Gemini CLIが解釈しやすいように**JSON形式**とします。
*   **ツールの終了コード:** 一般的なコンソールアプリケーションの作法に従い、処理の成否を示すリターンコード（成功時に0、エラーは0以外の値）を返します。

### b. 技術スタック

*   **プログラミング言語:** C#
*   **フレームワーク:** .NET 9
*   **ソリューションファイル:** `Ba.slnx` (ただし、`dotnet` CLIでは`.sln`として扱われる場合があることを理解する)
*   **プロジェクト構造:**
    *   本体プロジェクト: `src/` ディレクトリ配下
    *   テストプロジェクト: `tests/` ディレクトリ配下

### c. 開発プロセス

*   **テスト駆動開発 (TDD):** 新しい機能やロジックを追加する際は、まずテストを記述し、そのテストがパスするように実装を進めます。

## 3. 『ブルーアーカイブ』のコンテンツに関する知識

### a. 戦術対抗戦

*   単に「対抗戦」とも呼びます。
*   現在の順位からチケットを1枚消費し、上位の順位のプレイヤーを指定して対戦し勝利することで、その順位を奪取します。
*   順位を奪取して1位まで順位を上げる行為またはプロセスを「登頂」と呼びます。
*   チケットは1日に5枚配布されます。
   *   有償で「石割り」を行い、5枚単位で追加入手することができます。
   *   有償で追加した場合、回数に応じて「n割り」と表現することがあります。（2回追加入手した場合、「2割り」）
   *   追加購入しない場合、「無割」と表現します。
